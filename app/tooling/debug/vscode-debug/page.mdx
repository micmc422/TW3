
# ğŸ§ª DÃ©bogage avec VS Code

Visual Studio Code offre un excellent support pour le dÃ©bogage des applications <Term word="Node.js">Node.js</Term>. Voici comment configurer et utiliser le dÃ©bogueur.

## ğŸ› ï¸ Configuration initiale

1. Ouvrez votre projet dans VS Code
2. CrÃ©ez un fichier `.vscode/launch.json` Ã  la racine de votre projet
3. Ajoutez la configuration suivante :

```json copy filename=".vscode/launch.json"
{
    "version": "0.2.0", 
    "configurations": [
        {
            "type": "node",
            "request": "launch",
            "name": "Debug Program",
            "program": "${workspaceFolder}/index.js",
            "skipFiles": [
                "<node_internals>/**"
            ]
        }
    ]
}
```

## ğŸ“˜ Utilisation du dÃ©bogueur

### ğŸ“˜ Points d'arrÃªt

- Cliquez sur la marge gauche d'une ligne de code pour ajouter un point d'arrÃªt
- Les points d'arrÃªt sont indiquÃ©s par un point rouge
- Vous pouvez aussi ajouter des points d'arrÃªt conditionnels

### ğŸ“˜ ContrÃ´les du dÃ©bogueur

- F5 : DÃ©marrer/Continuer
- F10 : Pas Ã  pas principal
- F11 : Pas Ã  pas dÃ©taillÃ©
- Shift+F11 : Sortir de la fonction
- Shift+F5 : ArrÃªter

### ğŸ“˜ Variables et surveillance

- Le panneau de dÃ©bogage affiche :
  - Les variables locales
  - La pile d'appels
  - Les points d'arrÃªt
  - La console de dÃ©bogage

### ğŸ“˜ Console de dÃ©bogage

- Utilisez `console.log()` pour afficher des informations
- Ã‰valuez des expressions dans la console de dÃ©bogage
- AccÃ©dez aux variables dans la portÃ©e actuelle

## ğŸ› ï¸ Configurations avancÃ©es

### ğŸ“˜ DÃ©bogage avec nodemon

Pour dÃ©boguer une application Node.js avec nodemon, qui permet le redÃ©marrage automatique lors des modifications de fichiers :

1. Installez nodemon globalement :

```sh npm2yarn copy
npm install -g nodemon
```

2. Ajoutez la configuration suivante dans `.vscode/launch.json` :

```json copy filename=".vscode/launch.json"
{
    "type": "node",
    "request": "launch",
    "name": "Debug with Nodemon",
    "runtimeExecutable": "nodemon",
    "program": "${workspaceFolder}/index.js",
    "restart": true,
    "console": "integratedTerminal",
    "internalConsoleOptions": "neverOpen"
}
```

Cette configuration permet de :
- Utiliser nodemon comme exÃ©cutable
- RedÃ©marrer automatiquement le dÃ©bogueur lors des modifications
- Afficher la sortie dans le terminal intÃ©grÃ©
- Maintenir les points d'arrÃªt entre les redÃ©marrages

Vous pouvez personnaliser le comportement avec :
- `restart`: active/dÃ©sactive le redÃ©marrage automatique
- `program`: spÃ©cifie le point d'entrÃ©e de l'application
- `args`: ajoute des arguments de ligne de commande
- `env`: dÃ©finit des variables d'environnement



### ğŸ“˜ DÃ©bogage des tests

Pour dÃ©boguer vos tests unitaires avec VS Code, suivez ces Ã©tapes :

1. Si vous utilisez Jest, ajoutez cette configuration dans `.vscode/launch.json` :

```json copy filename=".vscode/launch.json"
{
    "type": "node",
    "request": "launch",
    "name": "Debug Tests",
    "program": "${workspaceFolder}/node_modules/jest/bin/jest",
    "args": ["--runInBand"],
    "console": "integratedTerminal",
    "internalConsoleOptions": "neverOpen"
}
```

## ğŸ“˜ Astuces

1. Utilisez la commande "Debug: Toggle Auto Attach" pour dÃ©boguer automatiquement les scripts Node.js
2. Ajoutez le mot-clÃ© `debugger` dans votre code pour crÃ©er des points d'arrÃªt programmatiques
3. Utilisez la vue "CALL STACK" pour comprendre le flux d'exÃ©cution
4. Profitez de la fonction "Watch" pour surveiller des expressions spÃ©cifiques

## ğŸ“˜ RÃ©solution des problÃ¨mes courants

- Si le dÃ©bogueur ne s'attache pas :
  - VÃ©rifiez que le chemin du fichier est correct
  - Assurez-vous que Node.js est installÃ©
  - RedÃ©marrez VS Code

- Pour les applications <Term word="TypeScript">TypeScript</Term> :
  - Activez les source maps
  - Utilisez `ts-node` comme exÃ©cutable

## ğŸ“˜ Conclusion

Le dÃ©bogueur de VS Code est un outil puissant pour le dÃ©veloppement Node.js. Avec une bonne configuration et la maÃ®trise des fonctionnalitÃ©s de base, vous pouvez rapidement identifier et rÃ©soudre les problÃ¨mes dans votre code.
