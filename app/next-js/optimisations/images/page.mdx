# ğŸ“· **Gestion des images avec `next/image` dans Next.js 13+**  

Next.js propose un composant **optimisÃ©** pour lâ€™affichage des images : [`next/image`](https://nextjs.org/docs/pages/api-reference/components/image). Il amÃ©liore les performances en :  

âœ… **Optimisant automatiquement** les images (compression, WebP/AVIF).  
âœ… **Lazy-loading** natif (chargement diffÃ©rÃ© pour amÃ©liorer le temps de rendu).  
âœ… **Redimensionnement dynamique** selon la taille de lâ€™Ã©cran.  

---

## **1ï¸âƒ£ Afficher une image avec `next/image`**  

Le composant `next/image` remplace la balise `<img>` standard.  

ğŸ›  **Exemple :**  
```tsx copy
import Image from "next/image";

export default function Home() {
  return (
    <div>
      <h1>Bienvenue</h1>
      <Image 
        src="/images/photo.jpg" 
        alt="Photo optimisÃ©e" 
        width={500} 
        height={300} 
        priority 
      />
    </div>
  );
}
```

âœ… **Explication** :  
- `src="/images/photo.jpg"` : Chemin de lâ€™image dans le dossier **`public/`**.  
- `width` & `height` : Dimensions optimisÃ©es par Next.js.  
- `priority` : Charge lâ€™image immÃ©diatement (utile pour les images critiques).  

---

## **2ï¸âƒ£ Utiliser des images distantes**  

Par dÃ©faut, Next.js bloque les images provenant dâ€™autres domaines. Il faut les autoriser dans `next.config.js`.  

```js filename="next.config.js" copy
module.exports = {
  images: {
    domains: ["cdn.example.com"], // Autorise les images de ce domaine
  },
};
```

ğŸ›  **Utilisation dâ€™une image distante**  
```tsx copy
<Image 
  src="https://cdn.example.com/image.jpg" 
  alt="Image distante"
  width={800} 
  height={600} 
/>
```

âœ… **Avantage** : Next.js optimise aussi les images distantes via son systÃ¨me de proxy.  

---

## **3ï¸âƒ£ Gestion des images responsives (`fill`)**  

Next.js permet dâ€™adapter automatiquement les images Ã  la taille du conteneur.  

ğŸ›  **Exemple avec `fill` et un conteneur en `relative`**  
```tsx copy
<div className="relative w-64 h-64">
  <Image 
    src="/images/photo.jpg"
    alt="Image responsive"
    fill 
    className="object-cover"
  />
</div>
```

âœ… **Explication** :  
- `fill` : Lâ€™image **remplit** son parent (`w-64 h-64`).  
- `object-cover` (avec Tailwind) : Garde le ratio de lâ€™image sans dÃ©formation.  

---

## **4ï¸âƒ£ Formats dâ€™images optimisÃ©s**  

Next.js convertit automatiquement les images en **WebP** ou **AVIF** (formats plus lÃ©gers).  

ğŸ”¹ **Si le navigateur supporte WebP â†’ Next.js sert WebP**.  
ğŸ”¹ **Sinon, il garde le format dâ€™origine**.  

Aucune configuration nâ€™est nÃ©cessaire ! ğŸ‰  

---

## **5ï¸âƒ£ Charger dynamiquement une image (`loader`)**  

Pour des cas spÃ©cifiques (CDN externe, transformations dâ€™image...), on peut utiliser un **loader personnalisÃ©**.  

ğŸ›  **Exemple avec Cloudinary**  
```tsx copy
const cloudinaryLoader = ({ src, width, quality }) => {
  return `https://res.cloudinary.com/demo/image/upload/w_${width},q_${quality || 75}/${src}`;
};

<Image 
  loader={cloudinaryLoader} 
  src="sample.jpg" 
  alt="Image optimisÃ©e Cloudinary"
  width={800} 
  height={600} 
/>
```

âœ… **Explication** :  
- Transforme dynamiquement les images via **Cloudinary** (compression, redimensionnement).  
- `q_${quality || 75}` ajuste la qualitÃ© de lâ€™image.  

---

## **ğŸ¯ Conclusion**  

ğŸš€ **Avec `next/image`, on obtient** :  
âœ… Des images **compressÃ©es et optimisÃ©es automatiquement**.  
âœ… Un **lazy loading** natif pour de meilleures performances.  
âœ… Une **gestion facile** des images locales et distantes.  