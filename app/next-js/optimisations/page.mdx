---
icon: "ğŸš€"
---
# ğŸš€ **AmÃ©lioration des performances avec Next.js 13+**  

Next.js 13+ introduit des fonctionnalitÃ©s avancÃ©es pour optimiser les performances de votre application :  

âœ… **Mise en cache automatique des Server Components**  
âœ… **Streaming des donnÃ©es pour un rendu progressif**  
âœ… **Optimisation des requÃªtes cÃ´tÃ© serveur**  

---

## **1ï¸âƒ£ Mise en cache des Server Components**  

Les **Server Components** sont par dÃ©faut **mÃ©morisÃ©s** et rÃ©utilisÃ©s pour Ã©viter des rendus inutiles.  

### **ğŸ“Œ Exemple : Mise en cache dâ€™une requÃªte API**  

```tsx filename="app/products/page.tsx" copy
async function getProducts() {
  const res = await fetch("https://fakestoreapi.com/products", {
    next: { revalidate: 3600 }, // Revalide les donnÃ©es toutes les heures
  });
  return res.json();
}

export default async function ProductsPage() {
  const products = await getProducts();

  return (
    <div>
      <h1>Produits</h1>
      <ul>
        {products.map((product) => (
          <li key={product.id}>{product.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

âœ… **Explication** :  
- `fetch()` avec `{ next: { revalidate: 3600 } }` met en cache la requÃªte pendant **1 heure**.  
- **Pas de rechargement inutile** des donnÃ©es tant quâ€™elles restent valides.  

ğŸ“Œ **Alternatives** :  
- `force-cache` pour stocker en cache indÃ©finiment.  
- `no-store` pour dÃ©sactiver totalement la mise en cache.  

---

## **2ï¸âƒ£ Streaming des donnÃ©es avec React Suspense**  

GrÃ¢ce au **streaming**, on peut afficher **progressivement** les parties dâ€™une page au fur et Ã  mesure du chargement.  

### **ğŸ“Œ Exemple : Affichage progressif des donnÃ©es**  

```tsx filename="app/products/page.tsx" copy
import { Suspense } from "react";
import ProductList from "@/app/products/ProductList";

export default function ProductsPage() {
  return (
    <div>
      <h1>Produits</h1>
      <Suspense fallback={<p>Chargement des produits...</p>}>
        <ProductList />
      </Suspense>
    </div>
  );
}
```

```tsx filename="app/products/ProductList.tsx" copy
async function getProducts() {
  await new Promise((resolve) => setTimeout(resolve, 2000)); // Simule un dÃ©lai rÃ©seau
  const res = await fetch("https://fakestoreapi.com/products", { cache: "no-store" });
  return res.json();
}

export default async function ProductList() {
  const products = await getProducts();

  return (
    <ul>
      {products.map((product) => (
        <li key={product.id}>{product.title}</li>
      ))}
    </ul>
  );
}
```

âœ… **Explication** :  
- **Le titre sâ€™affiche immÃ©diatement** pendant que les produits se chargent.  
- `Suspense` permet de **remplacer temporairement** le contenu par un message.  
- **AmÃ©liore lâ€™expÃ©rience utilisateur** en affichant progressivement la page.  

---

## **3ï¸âƒ£ Rendu progressif des Server Components**  

Next.js permet de **charger progressivement** les composants dâ€™une page au lieu dâ€™attendre que tout soit prÃªt.  

### **ğŸ“Œ Exemple : Chargement dâ€™une page avec plusieurs composants**  

```tsx filename="app/dashboard/page.tsx"
import { Suspense } from "react";
import Stats from "@/app/dashboard/Stats";
import RecentActivity from "@/app/dashboard/RecentActivity";

export default function DashboardPage() {
  return (
    <div>
      <h1>Tableau de bord</h1>
      
      <Suspense fallback={<p>Chargement des statistiques...</p>}>
        <Stats />
      </Suspense>

      <Suspense fallback={<p>Chargement des activitÃ©s rÃ©centes...</p>}>
        <RecentActivity />
      </Suspense>
    </div>
  );
}
```

âœ… **Explication** :  
- Chaque composant **se charge indÃ©pendamment**.  
- `Stats` et `RecentActivity` sont affichÃ©s **dÃ¨s quâ€™ils sont prÃªts**.  
- **Aucun blocage** du rendu global.  

---

## **4ï¸âƒ£ Optimisation des requÃªtes avec Parallel Fetching**  

Next.js permet dâ€™**exÃ©cuter plusieurs requÃªtes en parallÃ¨le** pour un rendu plus rapide.  

### **ğŸ“Œ Exemple : Chargement parallÃ¨le de plusieurs API**  

```tsx filename="app/dashboard/page.tsx" copy
async function getUser() {
  return fetch("https://jsonplaceholder.typicode.com/users/1").then((res) => res.json());
}

async function getPosts() {
  return fetch("https://jsonplaceholder.typicode.com/posts?userId=1").then((res) => res.json());
}

export default async function Dashboard() {
  const [user, posts] = await Promise.all([getUser(), getPosts()]); // ExÃ©cute les requÃªtes en parallÃ¨le

  return (
    <div>
      <h1>Bonjour, {user.name}</h1>
      <h2>Vos articles :</h2>
      <ul>
        {posts.map((post) => (
          <li key={post.id}>{post.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

âœ… **Explication** :  
- `Promise.all()` exÃ©cute **deux requÃªtes simultanÃ©ment**.  
- **Gagne du temps** par rapport Ã  des requÃªtes **sÃ©quentielles**.  

---

## **ğŸ¯ Conclusion**  

ğŸš€ **Avec Next.js 13+, on amÃ©liore les performances avec** :  
âœ… **Mise en cache avancÃ©e** pour limiter les requÃªtes inutiles.  
âœ… **Streaming & rendu progressif** pour un chargement fluide.  
âœ… **ExÃ©cution parallÃ¨le des requÃªtes** pour un affichage plus rapide.  