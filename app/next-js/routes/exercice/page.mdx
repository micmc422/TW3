# ğŸš€ **Exercice : Exploration de lâ€™App Router dans Next.js**  

## **ğŸ“Œ Objectifs**  
1ï¸âƒ£ CrÃ©er un **layout global** (`layout.tsx`) avec un **header** et un **footer**.  
2ï¸âƒ£ Ajouter une **page `about.tsx`** pour tester le **routing basÃ© sur le systÃ¨me de fichiers**.  
3ï¸âƒ£ ImplÃ©menter un **loading state (`loading.tsx`)** simulant un **chargement asynchrone**.  

---

## **1ï¸âƒ£ CrÃ©ation du `layout.tsx` (Structure Globale)**  

ğŸ“ **But** : DÃ©finir une structure rÃ©utilisable pour toutes les pages avec un header et un footer.  

```tsx filename="app/layout.tsx" copy
export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="fr">
      <body className="flex flex-col min-h-screen">
        <header className="bg-blue-600 text-white p-4">
          <h1 className="text-xl font-bold">Mon Site Next.js</h1>
        </header>

        <main className="flex-1 p-4">{children}</main>

        <footer className="bg-gray-800 text-white text-center p-4">
          Â© 2025 - Tous droits rÃ©servÃ©s
        </footer>
      </body>
    </html>
  );
}
```
âœ… **Effet** : Toutes les pages auront un **header et un footer fixes**.  

---

## **2ï¸âƒ£ CrÃ©ation de la page `about.tsx`**  

ğŸ“ **But** : Observer le fonctionnement du **routing basÃ© sur le systÃ¨me de fichiers** (`app/about/page.tsx` â†’ `/about`).  

```tsx filename="app/about/page.tsx" copy
export default function AboutPage() {
  return (
    <div>
      <h2 className="text-2xl font-bold">Ã€ propos de nous</h2>
      <p>Bienvenue sur notre site Next.js 13+ !</p>
    </div>
  );
}
```
âœ… **Effet** :  
- En visitant `http://localhost:3000/about`, la page **s'affiche automatiquement** sans besoin de configuration supplÃ©mentaire.  
- GrÃ¢ce au `layout.tsx`, elle **inclut le header et le footer** sans duplication de code.  

---

## **3ï¸âƒ£ Ajout dâ€™un `loading.tsx` pour simuler un chargement**  

ğŸ“ **But** : Afficher un **Ã©cran de chargement** lorsquâ€™une page met du temps Ã  charger.  

```tsx filename="app/loading.tsx" copy
export default function Loading() {
  return (
    <div className="flex flex-col items-center justify-center h-screen">
      <p className="text-lg font-semibold">Chargement en cours...</p>
      <div className="animate-spin rounded-full border-t-4 border-blue-500 border-solid h-12 w-12"></div>
    </div>
  );
}
```
âœ… **Effet** :  
- Si une page **prend du temps Ã  charger**, le `loading.tsx` s'affiche automatiquement.  

---

## **4ï¸âƒ£ Test avec une page simulant un dÃ©lai (`dashboard/page.tsx`)**  

ğŸ“ **But** : VÃ©rifier que `loading.tsx` sâ€™affiche bien quand une page charge lentement.  

```tsx filename="app/dashboard/page.tsx" copy
async function fetchData() {
  await new Promise((resolve) => setTimeout(resolve, 3000)); // Simule un dÃ©lai de 3s
  return { message: "DonnÃ©es chargÃ©es avec succÃ¨s !" };
}

export default async function DashboardPage() {
  const data = await fetchData();

  return (
    <div>
      <h2 className="text-2xl font-bold">Tableau de bord</h2>
      <p>{data.message}</p>
    </div>
  );
}
```
âœ… **Effet** :  
1ï¸âƒ£ Lâ€™utilisateur visite `/dashboard`.  
2ï¸âƒ£ **`loading.tsx` sâ€™affiche** pendant 3 secondes.  
3ï¸âƒ£ Ensuite, la page `/dashboard` se charge avec les donnÃ©es.  

---

## **ğŸ¯ RÃ©sumÃ© des acquis**  
âœ” CrÃ©ation dâ€™un **layout global** avec un **header** et un **footer**.  
âœ” Ajout dâ€™une **page dynamique** en utilisant le **systÃ¨me de fichiers** (`app/about/page.tsx`).  
âœ” ImplÃ©mentation dâ€™un **Ã©tat de chargement** (`loading.tsx`) pour une meilleure expÃ©rience utilisateur.  

---

ğŸ”¥ **Prochaine Ã©tape ?** Ajouter une **gestion des erreurs (`error.tsx`)** pour intercepter les erreurs de chargement ! ğŸ˜Š