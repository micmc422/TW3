# ğŸš€ **Ajout de MÃ©tadonnÃ©es Dynamiques avec `generateMetadata` dans Next.js**  

Dans Next.js 13+, `generateMetadata` permet de **gÃ©nÃ©rer dynamiquement** les mÃ©tadonnÃ©es dâ€™une page en fonction de paramÃ¨tres (ex : un `slug` dâ€™article de blog) ou dâ€™une requÃªte Ã  une API.  

---

## **1ï¸âƒ£ Pourquoi utiliser `generateMetadata` ?**  

âœ… **SEO dynamique** : Permet dâ€™adapter le `title`, `description` et `og:image` Ã  chaque page.  
âœ… **Performance** : MÃ©tadonnÃ©es gÃ©nÃ©rÃ©es **cÃ´tÃ© serveur**, avant le rendu de la page.  
âœ… **Optimisation des rÃ©seaux sociaux** : Chaque page peut avoir une **image de partage unique**.  

---

## **2ï¸âƒ£ Exemples dâ€™utilisation**  

### **ğŸ“ Cas 1 : MÃ©tadonnÃ©es basÃ©es sur un `slug`**  

ğŸ“ **But** : Chaque page dâ€™article de blog aura ses propres mÃ©tadonnÃ©es (`title`, `description`, `og:image`).  

```tsx filename="app/blog/[slug]/page.tsx" copy
import { Metadata } from "next";

type Props = {
  params: { slug: string };
};

// Simulation de rÃ©cupÃ©ration des donnÃ©es dâ€™un article (via API ou base de donnÃ©es)
async function getArticle(slug: string) {
  const articles = {
    "nextjs-guide": {
      title: "Guide Next.js 13+ : Tout savoir",
      description: "DÃ©couvrez toutes les nouveautÃ©s de Next.js 13 avec App Router.",
      image: "/nextjs-guide.jpg",
    },
    "seo-optimization": {
      title: "SEO en 2025 : Les bonnes pratiques",
      description: "Optimisez votre site pour les moteurs de recherche avec ces conseils.",
      image: "/seo-2025.jpg",
    },
  };

  return articles[slug] || { title: "Article introuvable", description: "", image: "" };
}

// GÃ©nÃ©rer dynamiquement les mÃ©tadonnÃ©es
export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const article = await getArticle(params.slug);

  return {
    title: article.title,
    description: article.description,
    openGraph: {
      title: article.title,
      description: article.description,
      images: [{ url: article.image }],
    },
  };
}

export default function BlogPost({ params }: Props) {
  return (
    <div>
      <h1>Article : {params.slug}</h1>
      <p>Contenu de lâ€™article...</p>
    </div>
  );
}
```
âœ… **Effet** :  
- Si on visite `/blog/nextjs-guide`, la page aura :  
  - **title** : *Guide Next.js 13+ : Tout savoir*  
  - **description** : *DÃ©couvrez toutes les nouveautÃ©s de Next.js 13 avec App Router.*  
  - **og:image** : `/nextjs-guide.jpg`  

---

### **ğŸ” Cas 2 : MÃ©tadonnÃ©es basÃ©es sur une API externe**  

ğŸ“ **But** : RÃ©cupÃ©rer les mÃ©tadonnÃ©es dâ€™un produit depuis une API.  

```tsx filename="app/product/[id]/page.tsx" copy
import { Metadata } from "next";

type Props = {
  params: { id: string };
};

async function fetchProduct(id: string) {
  const res = await fetch(`https://fakestoreapi.com/products/${id}`);
  const product = await res.json();
  return product;
}

export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const product = await fetchProduct(params.id);

  return {
    title: product.title,
    description: product.description,
    openGraph: {
      title: product.title,
      description: product.description,
      images: [{ url: product.image }],
    },
  };
}

export default async function ProductPage({ params }: Props) {
  const product = await fetchProduct(params.id);

  return (
    <div>
      <h1>{product.title}</h1>
      <p>{product.description}</p>
      <img src={product.image} alt={product.title} width={300} />
    </div>
  );
}
```
âœ… **Effet** :  
- Pour `/product/1`, la page affiche les mÃ©tadonnÃ©es du produit rÃ©cupÃ©rÃ©es via API.  
- Optimisation SEO et rÃ©seaux sociaux (`og:title`, `og:image`).  

---

## **ğŸ¯ Conclusion : Pourquoi utiliser `generateMetadata` ?**  

âœ… **SEO dynamique et performant** (cÃ´tÃ© serveur).  
âœ… **Personnalisation des mÃ©tadonnÃ©es** par page.  
âœ… **OptimisÃ© pour le partage sur les rÃ©seaux sociaux** (Open Graph, Twitter Card).