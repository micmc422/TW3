# ğŸ“˜ Introduction au Routage en React

Le **routage** permet de changer de vue sans recharger toute la page. En <Term word="React">React</Term> on s'appuie majoritairement sur la bibliothÃ¨que ğŸ“¦ **React Router** (v6) pour :
1. DÃ©clarer des chemins (`/`, `/users/:id`, `/dashboard`)
2. Afficher le <Term word="composant">composant</Term> correspondant quand l'<Term word="URL">URL</Term> change
3. GÃ©rer la navigation programmÃ©e (retour, redirection) et les paramÃ¨tres
4. Structurer des routes imbriquÃ©es pour reflÃ©ter l'architecture UI

## ğŸ§  Fondamentaux
Une **route** = un chemin + un composant Ã  rendre. Le routeur observe l'URL et sÃ©lectionne la meilleure correspondance.

### ğŸ“¦ Installation

```bash copy
pnpm add react-router
```

### ğŸ§© Routeur de haut niveau
Le plus courant : `BrowserRouter` (historique HTML5). Alternative : `HashRouter` si dÃ©ploiement statique sans configuration serveur.

```jsx copy 
import { BrowserRouter, Routes, Route } from 'react-router';

function Home() { return <h1>Accueil</h1>; }
function About() { return <h1>Ã€ propos</h1>; }

export default function App() {
	return (
		<BrowserRouter>
			<Routes>
				<Route path="/" element={<Home />} />
				<Route path="/about" element={<About />} />
			</Routes>
		</BrowserRouter>
	);
}
```

### ğŸ•¸ï¸ ParamÃ¨tres dynamiques
Utiliser `:id` dans le chemin et `useParams()` pour rÃ©cupÃ©rer la valeur.

```jsx copy
import { useParams } from 'react-router';

function User() {
	const { id } = useParams();
	return <p>Utilisateur #{id}</p>;
}
```

### ğŸ”„ Navigation
Deux approches :
- DÃ©clarative via `<Link to="/about" />`
- ProgrammÃ©e via `useNavigate()` (redirection aprÃ¨s action, retour).

```jsx copy
import { useNavigate } from 'react-router';
function ProfileButton() {
	const navigate = useNavigate();
	return <button onClick={() => navigate('/profile')} aria-label="Aller au profil">Profil</button>;
}
```

### ğŸªœ Routes imbriquÃ©es
Permettent de partager un layout et de gÃ©rer des sous-sections.
```jsx copy

import { BrowserRouter, Routes, Route, Outlet, Link } from 'react-router';

function DashboardLayout() {
	return (
		<div>
			<h2>Dashboard</h2>
			<nav>
				<Link to="stats">Stats</Link> | <Link to="settings">ParamÃ¨tres</Link>
			</nav>
			<Outlet /> {/* Rendu des sous-routes */}
		</div>
	);
}
function Stats() { return <p>ğŸ“ˆ Statistiques</p>; }
function Settings() { return <p>âš™ï¸ ParamÃ¨tres</p>; }

export default function AppNested() {
	return (
		<BrowserRouter>
			<Routes>
				<Route path="/dashboard" element={<DashboardLayout />}>  
					<Route path="stats" element={<Stats />} />
					<Route path="settings" element={<Settings />} />
				</Route>
			</Routes>
		</BrowserRouter>
	);
}
```

### ğŸ’¤ Chargement diffÃ©rÃ© (lazy loading)
RÃ©duit le bundle initial : charger un Ã©cran uniquement quand nÃ©cessaire.

```jsx copy
import { lazy, Suspense } from 'react';
import { BrowserRouter, Routes, Route } from 'react-router';

const Admin = lazy(() => import('./Admin'));

export function AppLazy() {
	return (
		<BrowserRouter>
			<Suspense fallback={<p>Chargementâ€¦</p>}>
				<Routes>
					<Route path="/admin" element={<Admin />} />
				</Routes>
			</Suspense>
		</BrowserRouter>
	);
}
```

### ğŸ§ª Exemple complet (rÃ©cap)

```jsx copy
import { BrowserRouter, Routes, Route, Link, useParams, useNavigate } from 'react-router';

function Home() {
	return (
		<div>
			<h2>Accueil</h2>
			<Link to="/about">Ã€ propos</Link> | <Link to="/user/42">Utilisateur 42</Link>
		</div>
	);
}
function About() {
	const navigate = useNavigate();
	return (
		<div>
			<h2>Ã€ propos</h2>
			<button onClick={() => navigate(-1)} aria-label="Retour">Retour</button>
		</div>
	);
}
function User() {
	const { id } = useParams();
	return <div>Utilisateur {id}</div>;
}

export default function AppRouter() {
	return (
		<BrowserRouter>
			<Routes>
				<Route path="/" element={<Home />} />
				<Route path="/about" element={<About />} />
				<Route path="/user/:id" element={<User />} />
			</Routes>
		</BrowserRouter>
	);
}
```

---

## ğŸ“š Ressources
- Documentation officielle : https://reactrouter.com/en/main 
- Concepts SPA : https://developer.mozilla.org/en-US/docs/Glossary/SPA 
- AccessibilitÃ© des liens : https://www.w3.org/WAI/tutorials/ 

---

## âš¡ TLDR
- DÃ©clarer routes via `<Routes>` / `<Route>`
- ParamÃ¨tres dynamiques avec `:id` + `useParams()`
- Navigation : `<Link>` (dÃ©claratif) / `useNavigate()` (impÃ©ratif)
- Imbrication : `<Outlet>` dans un layout parent
- Optimisation : lazy + `Suspense` pour rÃ©duire bundle

---

Voir aussi : /react/composants pour structuration UI et /react/donnees pour la gestion d'Ã©tat croisÃ©e.