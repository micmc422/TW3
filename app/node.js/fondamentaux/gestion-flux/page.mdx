---
description: "Dans cette section, nous explorerons comment Node.js g√®re les fichiers et les flux de donn√©es. Le module fs (File System) permet de lire et √©crire des fichiers, tandis que les flux (streams) permettent de traiter efficacement de grandes quantit√©s de donn√©es de mani√®re asynchrone."
---
# üü© **Gestion des fichiers et des flux en Node.js**

Dans cette section, nous explorerons comment Node.js g√®re les fichiers et les flux de donn√©es. Le module `fs` (File System) permet de lire et √©crire des fichiers, tandis que les flux (`streams`) permettent de traiter efficacement de grandes quantit√©s de donn√©es de mani√®re asynchrone.

## üìÇ Lire et √©crire des fichiers

Le module `fs` de Node.js fournit une interface pour interagir avec le syst√®me de fichiers, permettant de lire, √©crire, supprimer, et manipuler des fichiers. Voici un exemple de lecture et d‚Äô√©criture de fichiers avec le module `fs`.

### üìñ Lecture d‚Äôun fichier
  ```javascript copy
  const fs = require('fs');

  fs.readFile('exemple.txt', 'utf8', (err, data) => {
    if (err) {
      console.error('Erreur lors de la lecture du fichier :', err);
      return;
    }
    console.log('Contenu du fichier :', data);
  });
  ```
  Ici, `fs.readFile` lit un fichier de mani√®re asynchrone. Si une erreur survient (par exemple, si le fichier n'existe pas), elle est captur√©e et affich√©e.

### ‚úçÔ∏è √âcriture dans un fichier
  ```javascript copy
  const fs = require('fs');

  const contenu = 'Ceci est un exemple de texte.';
  fs.writeFile('exemple.txt', contenu, (err) => {
    if (err) {
      console.error('Erreur lors de l\'√©criture du fichier :', err);
      return;
    }
    console.log('Fichier √©crit avec succ√®s !');
  });
  ```
  Avec `fs.writeFile`, vous pouvez √©crire des donn√©es dans un fichier. Si le fichier n'existe pas, il est cr√©√©. Sinon, il est remplac√©.

## üîÑ Gestion des flux et buffers

**Les flux (`streams`)** sont des abstractions pour lire ou √©crire des donn√©es par petits morceaux, au lieu de charger la totalit√© en m√©moire. Cela est particuli√®rement utile pour les gros fichiers ou les transferts de donn√©es en continu.

Il existe quatre types de flux en Node.js :
1. **Readable** (lecture)
2. **Writable** (√©criture)
3. **Duplex** (lecture et √©criture simultan√©es)
4. **Transform** (modification des donn√©es pendant le transfert)

Voici un exemple de lecture de fichier en utilisant un flux (`stream`):

- **Lecture avec flux (`streams`)** üì• :
  ```javascript copy
  const fs = require('fs');

  const readStream = fs.createReadStream('grosFichier.txt', 'utf8');
  readStream.on('data', (chunk) => {
    console.log('Nouveau morceau de donn√©es :', chunk);
  });
  readStream.on('end', () => {
    console.log('Lecture du fichier termin√©e.');
  });
  readStream.on('error', (err) => {
    console.error('Erreur lors de la lecture du fichier :', err);
  });
  ```

**Les buffers** sont des zones de m√©moire brute allou√©es pour stocker des donn√©es binaires, souvent utilis√©es lors de la manipulation de flux.

### üßä Utilisation d‚Äôun buffer
  ```javascript copy
  const buffer = Buffer.from('Bonjour');
  console.log(buffer);  // <Buffer 42 6f 6e 6a 6f 75 72>
  console.log(buffer.toString());  // 'Bonjour'
  ```
