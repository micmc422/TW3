---
description: "La commande docker run est essentielle pour exécuter des conteneurs Docker à partir d'images préalablement créées. Elle permet de spécifier diverses options et paramètres pour personnaliser le comportement du conteneur."
---

# 🚀 Gestion de Conteneurs Docker

Docker permet d'exécuter des applications dans des environnements isolés appelés **conteneurs**. La commande `docker run` est essentielle pour lancer un conteneur à partir d'une image préalablement créée, en permettant de configurer divers paramètres comme le réseau, les volumes et les ports.

---

## ⚙️ Exécution d'une Image Docker

### **Syntaxe de base**

```bash
docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
```

- **OPTIONS** : Options facultatives pour configurer le conteneur (réseau, volumes, ports, etc.).
- **IMAGE** : Nom de l'image Docker à utiliser.
- **COMMAND** : Commande à exécuter à l'intérieur du conteneur.
- **ARG** : Arguments supplémentaires passés à la commande.

### **Exemple Pratique**

```bash
docker run -d -p 80:80 --name mon-serveur-web nginx
```

- **`-d`** : Lance le conteneur en mode détaché (en arrière-plan).
- **`-p 80:80`** : Mappe le port 80 du conteneur au port 80 de l'hôte, rendant l'application accessible via le navigateur.
- **`--name mon-serveur-web`** : Attribue le nom personnalisé "mon-serveur-web" au conteneur.
- **`nginx`** : Utilise l'image Docker Nginx.

---

## 🔍 Vérification de l'Exécution

Pour voir la liste des conteneurs en cours d'exécution, utilisez :

```bash
docker ps
```

> **Astuce** :  
> Pour obtenir une liste détaillée avec tous les conteneurs, exécutez :
> 
> ```bash
> docker ps --no-trunc
> ```
> 
> Cela affiche des informations complètes telles que l'ID, l'image, la commande, le statut, les ports mappés, et le nom.

---

## 🌐 Accès au Conteneur

Pour accéder à votre application dans un conteneur, ouvrez un navigateur et entrez l'URL suivante :

```plaintext
http://localhost:80
```

Vous verrez la page d'accueil par défaut de Nginx.

---

## ⏹️ Arrêt et Suppression du Conteneur

### **Arrêt du conteneur**

Pour arrêter un conteneur, exécutez :

```bash
docker stop mon-serveur-web
```

### **Suppression du conteneur**

Pour supprimer le conteneur arrêté, exécutez :

```bash
docker rm mon-serveur-web
```

---

## 🔄 Nettoyage de Tous les Conteneurs

Vous pouvez utiliser une commande en script pour arrêter **tous les conteneurs** :

```bash
docker stop $(docker ps -a -q)
```

> ⚠️ **Attention :**  
> Cette commande arrêtera tous les conteneurs, actifs ou non. Utilisez-la avec précaution.

> **Explication de la commande :**
> - **`docker ps -a`** : Liste tous les conteneurs (actifs et arrêtés).
> - **`-q`** : Affiche uniquement les IDs des conteneurs.
> - **`$(...)`** : Substitution de commande qui remplace cette partie par la liste des IDs.
> - **`docker stop`** : Arrête les conteneurs dont les IDs ont été listés.